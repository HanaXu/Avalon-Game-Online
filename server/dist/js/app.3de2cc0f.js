(function(e){function t(t){for(var a,r,i=t[0],l=t[1],c=t[2],d=0,m=[];d<i.length;d++)r=i[d],o[r]&&m.push(o[r][0]),o[r]=0;for(a in l)Object.prototype.hasOwnProperty.call(l,a)&&(e[a]=l[a]);u&&u(t);while(m.length)m.shift()();return n.push.apply(n,c||[]),s()}function s(){for(var e,t=0;t<n.length;t++){for(var s=n[t],a=!0,i=1;i<s.length;i++){var l=s[i];0!==o[l]&&(a=!1)}a&&(n.splice(t--,1),e=r(r.s=s[0]))}return e}var a={},o={app:0},n=[];function r(t){if(a[t])return a[t].exports;var s=a[t]={i:t,l:!1,exports:{}};return e[t].call(s.exports,s,s.exports,r),s.l=!0,s.exports}r.m=e,r.c=a,r.d=function(e,t,s){r.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:s})},r.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},r.t=function(e,t){if(1&t&&(e=r(e)),8&t)return e;if(4&t&&"object"===typeof e&&e&&e.__esModule)return e;var s=Object.create(null);if(r.r(s),Object.defineProperty(s,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var a in e)r.d(s,a,function(t){return e[t]}.bind(null,a));return s},r.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return r.d(t,"a",t),t},r.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},r.p="/";var i=window["webpackJsonp"]=window["webpackJsonp"]||[],l=i.push.bind(i);i.push=t,i=i.slice();for(var c=0;c<i.length;c++)t(i[c]);var u=l;n.push([0,"chunk-vendors"]),s()})({0:function(e,t,s){e.exports=s("56d7")},"0034":function(e,t,s){"use strict";var a=s("2ee8"),o=s.n(a);o.a},"034f":function(e,t,s){"use strict";var a=s("64a9"),o=s.n(a);o.a},"0adf":function(e,t,s){},"1d05":function(e,t,s){},"28ec":function(e,t,s){"use strict";var a=s("d12e"),o=s.n(a);o.a},"2ee8":function(e,t,s){},4862:function(e,t,s){"use strict";var a=s("1d05"),o=s.n(a);o.a},"4bed":function(e,t,s){},"4d39":function(e,t,s){},"524f":function(e,t,s){},"568f":function(e,t,s){"use strict";var a=s("ff7b"),o=s.n(a);o.a},"56d7":function(e,t,s){"use strict";s.r(t);s("cadf"),s("551c"),s("f751"),s("097d");var a=s("2b0e"),o=s("9f7b"),n=s.n(o),r=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",{attrs:{id:"app"}},[s("b-navbar",{staticClass:"navbar-default container",attrs:{toggleable:"lg"}},[s("b-navbar-brand",[e._v(e._s(e.navbarBrandMsg))]),s("b-navbar-toggle",{attrs:{target:"nav-collapse"}}),s("b-collapse",{attrs:{id:"nav-collapse","is-nav":""}},[s("b-navbar-nav",[s("b-nav-item",{directives:[{name:"b-modal",rawName:"v-b-modal.modal-rules",modifiers:{"modal-rules":!0}}],attrs:{busy:"true"}},[e._v("Rules")]),s("b-nav-item",{directives:[{name:"b-modal",rawName:"v-b-modal.modal-roles",modifiers:{"modal-roles":!0}}],attrs:{busy:"true"}},[e._v("Roles")]),s("b-nav-item",{directives:[{name:"b-modal",rawName:"v-b-modal.modal-history",modifiers:{"modal-history":!0}}],attrs:{busy:"true"}},[e._v("Game History")])],1)],1)],1),s("div",{staticClass:"modals"},[s("RulesModal"),s("RolesModal"),s("HistoryModal")],1),s("router-view")],1)},i=[],l=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",[s("section",{staticClass:"container",staticStyle:{"margin-top":"10%"}},[e.joinToggled||e.createToggled?e._e():s("div",[s("h1",{staticClass:"title"},[e._v("Avalonline")]),s("h2",{staticClass:"subtitle"},[e._v("A Game of Dedication and Bluffing")]),s("b-button",{staticClass:"avalon-btn-lg",attrs:{pressed:e.createToggled,id:"create-room-btn"},on:{"update:pressed":function(t){e.createToggled=t}}},[e._v("Create Room")]),s("b-button",{staticClass:"avalon-btn-lg",attrs:{pressed:e.joinToggled,id:"join-room-btn"},on:{"update:pressed":function(t){e.joinToggled=t}}},[e._v("Join Room")])],1),e.createToggled?s("div",[s("CreateForm"),s("b-button",{staticClass:"avalon-btn-lg",attrs:{pressed:e.createToggled},on:{"update:pressed":function(t){e.createToggled=t}}},[e._v("Back")])],1):e._e(),e.joinToggled?s("div",[s("JoinForm"),s("b-button",{staticClass:"avalon-btn-lg",attrs:{pressed:e.joinToggled},on:{"update:pressed":function(t){e.joinToggled=t}}},[e._v("Back")])],1):e._e()])])},c=[],u=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",[s("b-form",{attrs:{inline:""}},[s("label",{staticClass:"sr-only",attrs:{for:"inline-form-input-roomCode"}},[e._v("roomCode")]),s("b-input-group",{staticClass:"mb-2 mr-sm-2 mb-sm-0"},[s("b-input",{attrs:{autofocus:"",id:"inline-form-input-roomCode",placeholder:"roomCode"},model:{value:e.roomCode,callback:function(t){e.roomCode=t},expression:"roomCode"}})],1),s("label",{staticClass:"sr-only",attrs:{for:"inline-form-input-name"}},[e._v("Name")]),s("b-input",{staticClass:"mb-2 mr-sm-2 mb-sm-0",attrs:{id:"inline-form-input-name",placeholder:"name"},model:{value:e.name,callback:function(t){e.name=t},expression:"name"}}),s("b-button",{staticClass:"avalon-btn-lg",attrs:{id:"join-room-btn"},on:{click:e.joinRoom}},[e._v("Join Room")])],1),e.loading?s("div",{staticClass:"text-center"},[s("b-spinner",{attrs:{variant:"dark",label:"Text Centered"}})],1):e._e(),e.error?s("b-alert",{attrs:{variant:"danger",show:""}},[e._v(e._s(e.errorMsg))]):e._e()],1)},d=[],m=(s("7f7f"),function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",[s("div",{staticClass:"card"},[s("div",{staticClass:"card-header p-2"},[e._v("Chat")]),s("div",{staticClass:"card-body"},[s("dl",{attrs:{id:"messageList"}}),s("div",{directives:[{name:"chat-scroll",rawName:"v-chat-scroll"}],staticClass:"messages"},e._l(e.messages,function(t){return s("div",{key:t.id,staticClass:"message"},[s("strong",[e._v(e._s(t.username+" "))]),s("font",{attrs:{size:"2",color:"grey"}},[e._v("("+e._s(t.time)+")")]),s("strong",[e._v(":")]),s("br"),e._v("\n          "+e._s(t.text)+"\n        ")],1)}),0)]),s("hr"),s("textarea",{attrs:{type:"text",placeholder:"Press Enter to send your message..."},on:{keyup:function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:e.sendMessage(t)}}})])])}),h=[],v=s("a4bb"),f=s.n(v),p=(s("ac6a"),s("a481"),s("8aa5")),b=s.n(p),g=(s("5118"),s("123d")),_=s.n(g);a["default"].use(_.a);var y={name:"Chat",data:function(){return{username:"",messages:[]}},props:["your-name","room-code"],methods:{sendMessage:function(e){e.preventDefault(),e.target.value=e.target.value.replace(/^\s+|\s+$/g,"");var t=this.timeStamp();if(e.target.value){var s={username:this.yourName,text:e.target.value,time:t};console.log("Your message is: ",s),b.a.database().ref("chat/room-messages/"+this.roomCode).push(s),console.log("Message sent"),e.target.value=""}else console.log("Something went wrong..."),console.log(e)},joinMessage:function(){var e=this.yourName+" joined the room.",t=this.timeStamp(),s={username:"",text:e,time:t};b.a.database().ref("chat/room-messages/"+this.roomCode).push(s),console.log("Join message sent")},timeStamp:function(){var e=new Date,t=[e.getHours(),e.getMinutes()],s=t[0]<12?"AM":"PM";return t[0]=t[0]<12?t[0]:t[0]-12,t[0]=t[0]||12,t[1]<10&&(t[1]="0"+t[1]),t.join(":")+s}},mounted:function(){var e=this,t=(this.yourName,this.roomCode),s=b.a.database().ref("chat/room-messages/"+t);s.on("value",function(t){var s=[],a=t.val()||null;a||console.log("Warning: No chat rooms exist!"),f()(a).forEach(function(e){s.push({id:e,username:a[e].username,text:a[e].text,time:a[e].time})}),e.messages=s})}},C=y,w=(s("a8c3"),s("2877")),k=Object(w["a"])(C,m,h,!1,null,"5998a904",null),M=k.exports,T={name:"JoinForm",data:function(){return{name:null,roomCode:null,error:!1,loading:!1,errorMsg:null}},methods:{joinRoom:function(){this.error=!1,this.loading=!0,this.$socket.emit("joinRoom",{roomCode:this.roomCode,name:this.name})}},sockets:{errorMsg:function(e){this.error=!0,this.errorMsg=e,this.loading=!1},passedValidation:function(){this.$router.push({name:"game",params:{yourName:this.name,roomCode:this.roomCode}})}}},x=T,O=Object(w["a"])(x,u,d,!1,null,null,null),j=O.exports,V=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",[s("b-form",{attrs:{inline:""}},[s("label",{staticClass:"sr-only",attrs:{for:"inline-form-input-name"}},[e._v("Name")]),s("b-input",{staticClass:"mb-2 mr-sm-2 mb-sm-0",attrs:{autofocus:"",id:"inline-form-input-name",placeholder:"name"},model:{value:e.name,callback:function(t){e.name=t},expression:"name"}}),s("b-button",{staticClass:"avalon-btn-lg",attrs:{id:"create-room-btn"},on:{click:e.createRoom}},[e._v("Create Room")])],1),e.loading?s("div",{staticClass:"text-center"},[s("b-spinner",{attrs:{variant:"dark",label:"Text Centered"}})],1):e._e(),e.error?s("b-alert",{attrs:{variant:"danger",show:""}},[e._v(e._s(e.errorMsg))]):e._e()],1)},R=[],S=s("bc3a"),Q=s.n(S),q={name:"CreateForm",data:function(){return{name:null,roomCode:null,loading:!1,error:!1,errorMsg:null}},methods:{createRoom:function(){var e=this;this.error=!1,this.loading=!0,Q.a.get("https://www.random.org/integers/?num=1&min=1&max=999999&col=1&base=10&format=plain&rnd=new").then(function(t){e.roomCode=t.data,e.$socket.emit("createRoom",{roomCode:e.roomCode,name:e.name})})}},sockets:{errorMsg:function(e){this.error=!0,this.errorMsg=e,this.loading=!1},passedValidation:function(){this.$router.push({name:"game",params:{yourName:this.name,roomCode:this.roomCode}})}}},P=q,B=Object(w["a"])(P,V,R,!1,null,null,null),A=B.exports,E={name:"home",components:{JoinForm:j,CreateForm:A},data:function(){return{joinToggled:!1,createToggled:!1}}},N=E,G=(s("28ec"),Object(w["a"])(N,l,c,!1,null,"6965321f",null)),$=G.exports,H=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("b-modal",{attrs:{id:"modal-rules",size:"lg",scrollable:"",title:"Game Rules"}},[s("h2",{staticClass:"heading"},[s("b",[e._v("Objective")])]),s("p",[e._v("\n    Avalon is the game of hidden loyalty. Players are either Loyal\n    Servants of Arther fighting for Good and honor or aligned with the Evil ways of Mordred.\n    "),s("br"),e._v("Good wins the game by successfully completing three Quests. Evil wins if three\n    Quests end in failure. Evil can also win by assassinating Merlin at game's end\n    or if a Quest cannot be undertaken.\n    "),s("br"),e._v("Players may make any claims during the game.\n    Deception, accusation, and logical deducation are all equally important in order\n    for Good to prevail or Evil to rule the day.\n  ")]),s("h2",{staticClass:"heading"},[s("b",[e._v("Game Play")])]),s("p",[e._v("\n    The game consists of several rounds; each round has a team building phase and a Quest phase.\n    "),s("br"),e._v("In the team building phase, the quest leader proposes a team to complete a Quest.\n    All the players will either approve the proposed team and move to the quest phase,\n    or reject the proposed team, passing leadership to the next player and repeating the\n    process until a team is approved. If five teams are rejected in a single round, Evil wins.\n    In the Quest phase, players selected to be on the team will annonymously vote to succeed or fail the quest.\n  ")]),s("h2",{staticClass:"heading"},[s("b",[e._v("Assassinate Merlin")])]),s("p",[e._v("\n    If 3 quests are completed successfully, the evil players will have a final\n    opportunity to win the game by correctly guessing which of the good players is Merlin.\n    Without revealing any character cards, the evil players openly discuss and the assassin\n    will pick one good player as Merlin. If the named player is Merlin, then Evil players win.\n    If the evil players do not name Merlin, then the Good players win.\n  ")]),s("div",{attrs:{slot:"modal-footer"},slot:"modal-footer"})])},D=[],F={},L=Object(w["a"])(F,H,D,!1,null,null,null),I=L.exports,z=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("b-modal",{attrs:{id:"modal-roles",size:"lg",scrollable:"",title:"Game Roles"}},[s("h2",{staticClass:"heading"},[s("b",[e._v("Loyal Servant of Arthur")])]),s("p",[e._v("\n    You have no special abilities, your primary goal is to figure out who is bad based on, in this order:\n    "),s("br"),e._v("1. Mission success/failure\n    "),s("br"),e._v("2. Voting\n    "),s("br"),e._v("3. Deception indicators\n  ")]),s("h2",{staticClass:"heading"},[s("b",[e._v("Minion of Mordred")])]),s("p",[e._v("\n    Your primary goal is to lose missions. Your secondary goal is to try to discover who\n    Merlin is so that you can help the Assassin if you fail your primary goal.\n  ")]),s("h2",{staticClass:"heading"},[s("b",[e._v("Merlin")])]),s("p",[e._v("\n    Merlin must steer the knights correctly without it being obvious they know who all the\n    minions are. This means they must make deductions based on actions taken by players in the game.\n    "),s("br"),e._v("How to give yourself away:\n    "),s("br"),e._v("1. Knowing too much about who is evil.\n    "),s("br"),e._v("2. Calling an evil player evil when there is not much/any reason to call them evil.\n    "),s("br"),e._v("3. Being more helpful to the good side than usual.\n    "),s("br"),e._v("4. Never being confused or surprised.\n  ")]),s("h2",{staticClass:"heading"},[s("b",[e._v("Assassin")])]),s("p",[e._v("\n    Merlin votes correctly pretty much always so the assassin‚Äôs most important task is\n    watching the voting to see who votes correctly most of the time.\n  ")]),s("h2",{staticClass:"heading"},[s("b",[e._v("Percival")])]),s("p",[e._v("\n    Percival knows which two players are either Morgana or Merlin, but not specifically.\n    Your primary job is to pretend to be Merlin. Your secondary job is to\n    determine who Morgana is so you can vote down quests in which they try to participate.\n  ")]),s("h2",{staticClass:"heading"},[s("b",[e._v("Morgana")])]),s("p",[e._v("Morgana appears as Merlin to Percival, Percival does not know which is which.")]),s("h2",{staticClass:"heading"},[s("b",[e._v("Mordred")])]),s("p",[e._v("\n    Mordred helps the evil side because Merlin does not know his identity, but hurts in their\n    ability to detect Merlin because he can‚Äôt always vote correctly anymore. Basically, adding\n    him helps them win more often by just causing 3 missions to fail, but makes it harder to\n    assassinate Merlin in the end. As Mordred, it is imperative that you recognize your unique\n    situation because you will be able to watch the votes to see how everyone votes for teams\n    to which the other minions belong.\n  ")]),s("h2",{staticClass:"heading"},[s("b",[e._v("Oberon")])]),s("p",[e._v("\n    Oberon is a secret force of evil that is unknown to the other evil players. He is a fun\n    addition to a game, but makes it a challenge for the minions, so I recommend only considering\n    him during a 7 or 10 player game. Adding him is a great way to spice up a game of veterans.\n  ")]),s("div",{attrs:{slot:"modal-footer"},slot:"modal-footer"})])},J=[],W={},Y=Object(w["a"])(W,z,J,!1,null,null,null),K=Y.exports,U=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("b-modal",{attrs:{id:"modal-history",size:"lg",scrollable:"",title:"Game History"}},[e._l(e.questHistory,function(t,a){return null!=t[1].leader?s("div",{key:a},[s("h3",[e._v("\n      Quest #"+e._s(a)+"\n      "),e._l(e.questHistory,function(a,o){return null!=t[o]?s("span",{key:o},[null!=t[o].success?s("span",[t[o].success?s("b-badge",{staticClass:"questResult succeed"},[e._v("Success "+e._s(t[o].votes.succeed)+"/"+e._s(t[o].playersOnQuest.length))]):e._e(),t[o].success?e._e():s("b-badge",{staticClass:"questResult fail"},[e._v("Fail "+e._s(t[o].votes.fail)+"/"+e._s(t[o].playersOnQuest.length))])],1):e._e()]):e._e()})],2),e._l(e.questHistory,function(a,o){return null!=t[o]?s("div",{key:o,staticClass:"voteTrackItem"},[s("b-row",[s("b-col",{attrs:{cols:"12",md:"6"}},[s("strong",[e._v("Leader:")]),e._v("\n          "+e._s(t[o].leader)+"\n        ")]),s("b-col",{attrs:{cols:"12",md:"6"}},[s("strong",[e._v("Proposed Team:")]),s("span",[e._v(e._s(" "+t[o].playersOnQuest.join(", ")))])])],1),s("b-row",[s("b-col",{attrs:{cols:"12",md:"3"}},[s("strong",[e._v("Team Vote Results:")]),"rejected"===t[o].questTeamDecisions.result?s("b-badge",{staticClass:"voteResult teamRejected"},[e._v("Rejected Team")]):e._e(),"accepted"===t[o].questTeamDecisions.result?s("b-badge",{staticClass:"voteResult teamAccepted"},[e._v("Accepted Team")]):e._e()],1),s("b-col",{attrs:{cols:"12",md:"9"}},[s("b-row",[s("b-col",{attrs:{cols:"6"}},[s("span",{staticClass:"subheader"},[e._v("Accepted Team")]),s("br"),e._l(t[o].questTeamDecisions.accept,function(t,a){return s("span",{key:a},[e._v("\n                "+e._s(t)+"\n                "),s("br")])})],2),s("b-col",{attrs:{cols:"6"}},[s("span",{staticClass:"subheader"},[e._v("Rejected Team")]),s("br"),e._l(t[o].questTeamDecisions.reject,function(t,a){return s("span",{key:a},[e._v("\n                "+e._s(t)+"\n                "),s("br")])})],2)],1)],1)],1)],1):e._e()})],2):e._e()}),s("div",{attrs:{slot:"modal-footer"},slot:"modal-footer"})],2)},X=[],Z={name:"HistoryModal",data:function(){return{questHistory:null}},methods:{getLastVoteTrackIndex:function(e){}},sockets:{updateHistoryModal:function(e){console.log("updating History Modal"),this.questHistory=e}}},ee=Z,te=(s("d0e0"),Object(w["a"])(ee,U,X,!1,null,"66b574d2",null)),se=te.exports,ae={components:{Home:$,RulesModal:I,RolesModal:K,HistoryModal:se},data:function(){return{navbarBrandMsg:"Avalonline"}},sockets:{roomCode:function(e){this.navbarBrandMsg="Avalonline Room "+e}}},oe=ae,ne=(s("034f"),Object(w["a"])(oe,r,i,!1,null,null,null)),re=ne.exports,ie=s("8c4f"),le=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",[s("div",{staticClass:"row justify-content-md-center mx-0"},[s("div",{staticClass:"col-12 col-md-7"},[s("EndGameOverlay"),e.gameStarted?e._e():s("div",{staticClass:"container main-board"},[s("h4",[e._v("\n          Welcome, "+e._s(e.yourName)+", to game room\n          "),s("span",{attrs:{id:"roomCode"}},[e._v(e._s(e.roomCode))]),e._v(".\n        ")]),s("b-row",[s("b-col",{attrs:{md:"7",offset:"1"}},[s("LobbyList",{attrs:{players:e.players}})],1),s("b-col",{staticStyle:{padding:"10px 0 0 0"},attrs:{md:"4","align-self":"start"}},[e.showSetupOptions?s("b-button",{directives:[{name:"b-modal",rawName:"v-b-modal.setupModal",modifiers:{setupModal:!0}}],staticClass:"setupButton"},[e._v("Setup Options")]):e._e()],1)],1),s("SetupOptions",{attrs:{roomCode:e.roomCode},on:{clicked:e.clickedSetupOptions}}),e.error?s("b-alert",{attrs:{variant:"danger",show:""}},[e._v(e._s(e.errorMsg))]):e._e(),e.showStartButton?s("div",[s("b-button",{staticClass:"avalon-btn-lg",attrs:{id:"start-game-btn"},on:{click:e.startGame}},[e._v("Start Game")])],1):e._e()],1),e.gameStarted?s("div",{staticClass:"container main-board"},[e.gameStarted?s("PlayerCards",{attrs:{players:e.players,yourName:e.yourName,showAddPlayerButton:e.showAddPlayerButton,showRemovePlayerButton:e.showRemovePlayerButton,assassination:e.assassination}}):e._e(),e.gameStarted?s("QuestCards",{attrs:{quests:e.quests}}):e._e(),e.gameStarted?s("VoteTrack",{attrs:{currentVoteTrack:e.currentVoteTrack}}):e._e()],1):e._e(),e.showQuestMsg&&e.questMsg.length>0?s("GameStatus",{attrs:{questMsg:e.questMsg}}):e._e(),e.showPlayerVoteStatus?s("PlayerVoteStatus"):e._e(),s("QuestVotes",{attrs:{yourName:e.yourName}}),s("DecideQuestTeam",{attrs:{yourName:e.yourName}})],1),s("div",{staticClass:"col-12 col-md-3"},[s("div",{staticClass:"container chat"},[e.gameStarted?s("RoleList"):e._e(),s("div",{staticStyle:{align:"right"}},[s("Chat",{attrs:{"your-name":e.yourName,"room-code":e.roomCode}})],1)],1)])]),s("b-navbar",{staticClass:"navbar-default footer",attrs:{fixed:"bottom"}},[e._v("Show Chat")])],1)},ce=[],ue=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("ul",{staticClass:"lobbyList"},e._l(e.players,function(t,a){return s("li",{key:a},[e._v(e._s(t.role)+": "+e._s(t.name))])}),0)},de=[],me={name:"LobbyList",props:["players"]},he=me,ve=(s("8b0a"),Object(w["a"])(he,ue,de,!1,null,"0f335124",null)),fe=ve.exports,pe=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",{staticClass:"row justify-content-md-center playerCards"},[s("div",{class:{"d-flex flex-nowrap":e.width<768,"d-flex flex-wrap":e.width>=768}},e._l(e.players,function(t,a){return s("div",{key:a,staticClass:"player card",class:{darkerBG:t.name===e.yourName}},[s("div",{staticClass:"player card-body",class:{markEvil:"Evil"===t.team,markGood:"Good"===t.team}},[s("h5",{staticClass:"card-title"},[e._v("\n          "+e._s(t.name)+"\n          "),t.leader?s("span",{staticStyle:{color:"#FFD700"}},[e._v("üëë")]):e._e(),s("span",{directives:[{name:"b-modal",rawName:"v-b-modal",value:"memo-modal-"+t.name,expression:"'memo-modal-' + player.name"}],staticClass:"float-right",staticStyle:{cursor:"pointer"}},[e._v("üìù")])]),s("MemoModal",{attrs:{playerName:t.name}}),s("h6",{staticClass:"player card-subtitle text-muted"},[s("b",[e._v("Team:")]),e._v("\n          "+e._s(t.team)+"\n          "),s("br"),s("b",[e._v("Character:")]),e._v("\n          "+e._s(t.character)+"\n          "),s("br"),t.onQuest?s("b-badge",{staticClass:"questBadge"},[e._v("On Quest")]):e._e()],1),e.showAddPlayerButton||e.showRemovePlayerButton?s("div",[!t.onQuest&&e.showAddPlayerButton?s("b-button",{staticClass:"mx-1 mt-2 questAddButton",attrs:{id:"add-player-"+t.name},on:{click:function(s){return e.addPlayerToQuest(t.name)}}},[e._v("Add to Quest")]):e._e(),t.onQuest&&e.showRemovePlayerButton?s("b-button",{staticClass:"mx-1 mt-1 questRemoveButton",attrs:{id:"remove-player-"+t.name},on:{click:function(s){return e.removePlayerFromQuest(t.name)}}},[e._v("Remove")]):e._e()],1):e._e(),e.assassination?s("div",{staticClass:"row justify-content-md-center"},["good"===t.team||"hidden"===t.team?s("b-button",{staticClass:"mx-1 mt-1",attrs:{id:"assassinate-"+t.name},on:{click:function(s){return e.assassinatePlayer(t.name)}}},[e._v("Assassinate")]):e._e()],1):e._e()],1)])}),0)])},be=[],ge=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("b-modal",{attrs:{id:"memo-modal-"+e.playerName,title:e.playerName+" Memo"},on:{shown:e.focusMyElement}},[s("div",[s("b-form-textarea",{ref:"focusThis",attrs:{id:"textarea",placeholder:"Enter something...",rows:"5","max-rows":"5"}})],1),s("div",{attrs:{slot:"modal-footer"},slot:"modal-footer"})])},_e=[],ye={name:"MemoModal",props:["playerName"],methods:{focusMyElement:function(e){this.$refs.focusThis.focus()}}},Ce=ye,we=Object(w["a"])(Ce,ge,_e,!1,null,null,null),ke=we.exports,Me={name:"PlayerCards",components:{MemoModal:ke},props:["players","yourName","showAddPlayerButton","showRemovePlayerButton","assassination"],data:function(){return{width:window.innerWidth}},methods:{addPlayerToQuest:function(e){this.$socket.emit("addPlayerToQuest",e)},removePlayerFromQuest:function(e){this.$socket.emit("removePlayerFromQuest",e)},assassinatePlayer:function(e){this.$socket.emit("assassinatePlayer",e)}}},Te=Me,xe=(s("d317"),Object(w["a"])(Te,pe,be,!1,null,null,null)),Oe=xe.exports,je=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",[s("div",{staticClass:"row justify-content-md-center mb-3 questCards"},[s("div",{class:{"d-flex flex-nowrap":e.width<768,"d-flex flex-wrap":e.width>=768}},e._l(e.quests,function(t,a){return s("div",{key:a,staticClass:"quest card",class:{markRed:!1===t.success,markGreen:!0===t.success,darkerBG:!0===t.currentQuest}},[s("div",{staticClass:"quest card-body"},[s("h5",{staticClass:"quest card-title"},[e._v("\n            Quest "+e._s(t.questNum)+"\n            "),!0===t.currentQuest?s("span",{staticStyle:{color:"#FFD700"}},[e._v("üëë")]):e._e()]),s("h6",{staticClass:"card-subtitle mb-2 text-muted"},[e._v(e._s(t.playersRequired)+" players")])])])}),0)])])},Ve=[],Re={name:"QuestCards",props:["quests"],data:function(){return{width:window.innerWidth}}},Se=Re,Qe=(s("9580"),Object(w["a"])(Se,je,Ve,!1,null,"9b82d3f4",null)),qe=Qe.exports,Pe=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",{staticStyle:{"padding-bottom":"4px"}},[s("b-row",{staticClass:"mx-auto section voteTrack"},[s("b-col",{staticClass:"sectionTitle",attrs:{cols:"3",md:"2"}},[e._v("Vote Track")]),s("b-col",{staticClass:"circles"},e._l(5,function(t){return s("div",{key:t,staticClass:"circle",class:{markBG:t===e.currentVoteTrack}},[e._v(e._s(t))])}),0)],1)],1)},Be=[],Ae={name:"VoteTrack",props:["currentVoteTrack"]},Ee=Ae,Ne=Object(w["a"])(Ee,Pe,Be,!1,null,"606cdaae",null),Ge=Ne.exports,$e=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("b-modal",{staticClass:"setup",attrs:{id:"setupModal"},on:{ok:e.handleOk}},[s("b-row",[s("b-button",{staticClass:"setupButton",attrs:{"margin-top":"20px"},on:{click:e.createBot}},[e._v("Add Bot")])],1),s("b-row",[s("b-col",{attrs:{sm:"5"}},[s("label",{staticClass:"label",attrs:{for:"characters"}},[e._v("Special Characters:")])]),s("b-col",[s("b-form-group",e._l(e.options,function(t){return s("b-form-checkbox",{key:t.value,attrs:{value:t.value,disabled:"Morgana"===t.value&&!e.selected.includes("Percival")},on:{input:function(t){return e.validateSelected()}},model:{value:e.selected,callback:function(t){e.selected=t},expression:"selected"}},[e._v(e._s(t.text))])}),1)],1)],1),s("p",[s("em",[s("strong",[e._v("Notes:")]),s("br"),e._v("You cannot include Morgana unless Percival is also in the game.\n      "),s("br"),e._v("5 and 6-player games cannot include more than one optional evil character.\n      "),s("br"),e._v("7, 8, and 9-player games cannot include more than two optional evil characters.\n    ")])])],1)},He=[],De=(s("6762"),s("2fdb"),{name:"SetupOptions",props:["roomCode"],data:function(){return{error:!1,errorMsg:"",botCount:0,selected:[],options:[{text:"Percival (Good, knows Merlin)",value:"Percival"},{text:"Mordred (Evil, invisible to Merlin)",value:"Mordred"},{text:"Oberon (Evil, invisible to other evil characters)",value:"Oberon"},{text:"Morgana (Evil, appears as Merlin to Percival)",value:"Morgana"}]}},methods:{validateSelected:function(){if(this.selected.includes("Morgana")&&!this.selected.includes("Percival"))for(var e=0;e<this.selected.length;e++)"Morgana"===this.selected[e]&&this.selected.splice(e,1)},createBot:function(){console.log("CreateBot function Called with room: ".concat(this.roomCode)),this.$socket.emit("createBot",this.roomCode),this.botCount++},handleOk:function(){console.log("Selected Items: ".concat(this.selected)),console.log("Bots: ".concat(this.botCount)),this.$emit("clicked",this.selected)}}}),Fe=De,Le=(s("a66f"),Object(w["a"])(Fe,$e,He,!1,null,null,null)),Ie=Le.exports,ze=function(){var e=this,t=e.$createElement,s=e._self._c||t;return e.showConfirmTeamButton||e.showAcceptRejectButtons?s("b-row",{staticClass:"section"},[s("b-col",{staticClass:"sectionTitle",attrs:{cols:"3",md:"2"}},[e._v("Action")]),s("b-col",{staticClass:"py-0"},[e.showConfirmTeamButton?s("div",[s("b-button",{staticClass:"avalon-btn-lg",attrs:{id:"confirm-team-btn"},on:{click:e.questTeamConfirmed}},[e._v("Confirm Team")])],1):e._e(),e.showAcceptRejectButtons?s("div",[s("b-button",{staticClass:"avalon-btn-lg",attrs:{id:"accept-team-btn"},on:{click:function(t){return e.questTeamDecision("accept")}}},[e._v("Accept Team")]),s("b-button",{staticClass:"avalon-btn-lg",attrs:{id:"reject-team-btn"},on:{click:function(t){return e.questTeamDecision("reject")}}},[e._v("Reject Team")])],1):e._e()])],1):e._e()},Je=[],We={name:"DecideQuestTeam",data:function(){return{showConfirmTeamButton:!1,showAcceptRejectButtons:!1,teamVotes:null,showHasVoted:!1,showTeamVoteResults:!1}},props:["yourName"],methods:{questTeamConfirmed:function(){this.$socket.emit("questTeamConfirmed")},questTeamDecision:function(e){this.$socket.emit("questTeamDecision",{name:this.yourName,decision:e})}},sockets:{confirmQuestTeam:function(e){this.showConfirmTeamButton=e},acceptOrRejectTeam:function(e){this.showAcceptRejectButtons=e.bool}}},Ye=We,Ke=Object(w["a"])(Ye,ze,Je,!1,null,null,null),Ue=Ke.exports,Xe=function(){var e=this,t=e.$createElement,s=e._self._c||t;return e.gameOver?s("div",{staticClass:"container",attrs:{id:"overlay"}},[s("h1",{staticClass:"gameOverMessage"},[e._v("Game Over")]),s("span",{staticClass:"text-light"},[e._v(e._s(e.endGameMsg))])]):e._e()},Ze=[],et={name:"EndGameOverlay",data:function(){return{gameOver:!1,endGameMsg:null}},sockets:{gameOver:function(e){this.gameOver=!0,this.endGameMsg=e}}},tt=et,st=(s("0034"),Object(w["a"])(tt,Xe,Ze,!1,null,null,null)),at=st.exports,ot=function(){var e=this,t=e.$createElement,s=e._self._c||t;return e.canVoteOnQuest?s("b-row",{staticClass:"section"},[s("b-col",{staticClass:"sectionTitle",attrs:{cols:"3",md:"2"}},[e._v("Action")]),s("b-col",{staticClass:"py-0"},[s("b-button",{staticClass:"avalon-btn-lg",attrs:{id:"succeed-btn"},on:{click:function(t){return e.questVote("succeed")}}},[e._v("Succeed")]),s("b-button",{staticClass:"avalon-btn-lg",attrs:{id:"fail-btn",disabled:e.onGoodTeam},on:{click:function(t){return e.questVote("fail")}}},[e._v("Fail")])],1)],1):e._e()},nt=[],rt={name:"QuestVotes",props:["yourName"],data:function(){return{canVoteOnQuest:!1,onGoodTeam:!1}},methods:{questVote:function(e){this.canVoteOnQuest=!1,this.$socket.emit("questVote",{name:this.yourName,decision:e})}},sockets:{goOnQuest:function(e){this.canVoteOnQuest=!0,this.onGoodTeam=e}}},it=rt,lt=Object(w["a"])(it,ot,nt,!1,null,null,null),ct=lt.exports,ut=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",[s("b-row",{staticClass:"section"},[s("b-col",{staticClass:"sectionTitle",attrs:{cols:"3",md:"2"}},[e._v("Game Status")]),s("b-col",[e._v(e._s(e.questMsg))])],1)],1)},dt=[],mt={name:"GameStatus",props:["questMsg"]},ht=mt,vt=(s("4862"),Object(w["a"])(ht,ut,dt,!1,null,null,null)),ft=vt.exports,pt=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",[s("b-row",{staticClass:"section"},[s("b-col",{staticClass:"sectionTitle",attrs:{cols:"3",md:"2"}},[e._v("Player Votes")]),s("b-col",[e.showHasVoted&&!e.showTeamVoteResults?s("div",[s("strong",[e._v("Voted:")]),e._v("\n        "+e._s(e.teamVotes)+"\n      ")]):e._e(),e.showTeamVoteResults?s("div",{staticClass:"row my-0 justify-content-center"},[s("div",{staticClass:"col-md-6 col-12 text-left"},[s("strong",[e._v("Accepted Team:")]),e._v("\n          "+e._s(e.teamVotes.accept)+"\n          "),s("br"),s("strong",[e._v("Rejected Team:")]),e._v("\n          "+e._s(e.teamVotes.reject)+"\n        ")]),s("div",{staticClass:"col-md-4 col-12 mt-2 text-left"},[e.showHasVotedOnQuest&&!e.showQuestVoteResults?s("div",[s("strong",[e._v("Went on quest:")]),e._v("\n            "+e._s(e.questVotes)+"\n          ")]):e._e()])]):e._e(),e.showQuestVoteResults?s("div",{staticClass:"row justify-content-center"},[s("div",{staticClass:"col-6 col-md-3"},[s("strong",[e._v("Quest Vote Results:")])]),s("div",{staticClass:"col-6 col-md-2 text-left"},[s("strong",[e._v("Succeed:")]),e._v("\n          "+e._s(e.successCount)+"\n          "),s("br"),s("strong",[e._v("Fail:")]),e._v("\n          "+e._s(e.failCount)+"\n        ")])]):e._e()])],1)],1)},bt=[],gt={name:"GameStatus",data:function(){return{teamVotes:null,showHasVoted:!1,showTeamVoteResults:!1,questVotes:null,showHasVotedOnQuest:!1,showQuestVoteResults:!1,voted:null,successCount:null,failCount:null}},props:[],sockets:{votedOnTeam:function(e){console.log("votedOnTeam()"),this.teamVotes=e.join(", "),this.showHasVoted=!0,this.showTeamVoteResults=!1},votedOnQuest:function(e){this.showHasVotedOnQuest=!0,this.questVotes=e.join(", ")},revealTeamVotes:function(e){this.teamVotes=e,this.teamVotes.accept=e.accept.join(", "),this.teamVotes.reject=e.reject.join(", "),this.showHasVoted=!1,this.showTeamVoteResults=!0},hideTeamVotes:function(){this.showHasVoted=!1,this.showTeamVoteResults=!1},revealVotes:function(e){this.canVoteOnQuest=!1,this.showHasVotedOnQuest=!1,this.successCount=e["success"],this.failCount=e["fail"],this.showQuestVoteResults=!0},hideVotes:function(){this.showQuestVoteResults=!1,this.canVoteOnQuest=!1}}},_t=gt,yt=(s("6445"),Object(w["a"])(_t,pt,bt,!1,null,null,null)),Ct=yt.exports,wt=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",{staticClass:"game-section mb-1 mt-2 p-0"},[s("h4",{staticClass:"sectionTitle"},[e._v("Role List")]),s("ul",{staticClass:"row lobbyList px-1 m-0"},[s("div",{staticClass:"col-7 good"},e._l(e.goodRoles,function(t,a){return s("li",[e._v(e._s(a)+": "+e._s(t))])}),0),s("div",{staticClass:"col-5 evil"},e._l(e.evilRoles,function(t,a){return s("li",[e._v(e._s(a)+": "+e._s(t))])}),0)])])},kt=[],Mt={name:"RoleList",data:function(){return{goodRoles:null,evilRoles:null}},sockets:{roleList:function(e){this.goodRoles=e["good"],this.evilRoles=e["evil"]}}},Tt=Mt,xt=(s("fc90"),Object(w["a"])(Tt,wt,kt,!1,null,"0096391b",null)),Ot=xt.exports,jt={name:"Game",components:{LobbyList:fe,PlayerCards:Oe,Chat:M,QuestCards:qe,VoteTrack:Ge,SetupOptions:Ie,DecideQuestTeam:Ue,EndGameOverlay:at,QuestVotes:ct,GameStatus:ft,PlayerVoteStatus:Ct,RoleList:Ot},data:function(){return{yourName:null,roomCode:null,players:[],quests:[],optionalCharacters:[],currentVoteTrack:null,questMsg:null,showQuestMsg:!1,showStartButton:!1,gameStarted:!1,showAddPlayerButton:!1,showRemovePlayerButton:!1,onQuest:!1,canVoteOnQuest:!1,onGoodTeam:null,showPlayerVoteStatus:!1,waitingForAssassin:!1,assassination:!1,showSetupOptions:!1,error:!1,errorMsg:null,gameOver:!1,endGameMsg:null}},created:function(){this.yourName=this.$route.params.yourName,this.roomCode=this.$route.params.roomCode},methods:{clickedSetupOptions:function(e){this.optionalCharacters=e,console.log("optional characters: ".concat(this.optionalCharacters)),console.log("Data is: ".concat(e))},startGame:function(){console.log("starting game in room: ".concat(this.roomCode)),this.$socket.emit("startGame",{roomCode:this.roomCode,optionalCharacters:this.optionalCharacters}),this.showStartButton=!1}},sockets:{updatePlayers:function(e){this.players=e},updateQuests:function(e){this.quests=e["quests"]},updateVoteTrack:function(e){this.currentVoteTrack=e["voteTrack"]},gameReady:function(){this.showStartButton=!0},gameStarted:function(){this.gameStarted=!0,this.error=!1,this.showSetupOptions=!1},choosePlayersForQuest:function(e){this.showAddPlayerButton=e.bool,this.showRemovePlayerButton=e.bool},togglePlayerVoteStatus:function(e){console.log("togglePlayerVoteStatus"),this.showPlayerVoteStatus=e},updateQuestMsg:function(e){this.questMsg=e,this.showQuestMsg=!0},showHostSetupOptions:function(e){this.showSetupOptions=e},errorMsg:function(e){this.error=!0,this.errorMsg=e,this.showStartButton=!0},beginAssassination:function(e){this.assassination=!0,this.questMsg=e},waitForAssassin:function(e){this.waitingForAssassin=!0,this.questMsg=e,this.showQuestMsg=!0},gameOver:function(e){this.gameOver=!0,this.endGameMsg=e}}},Vt=jt,Rt=(s("568f"),Object(w["a"])(Vt,le,ce,!1,null,null,null)),St=Rt.exports;a["default"].use(ie["a"]);var Qt=new ie["a"]({mode:"history",base:"/",routes:[{path:"/",name:"home",component:$},{path:"/game",name:"game",component:St}]}),qt=s("2f62");a["default"].use(qt["a"]);var Pt=new qt["a"].Store({state:{},mutations:{},actions:{}}),Bt=s("9483");Object(Bt["a"])("".concat("/","service-worker.js"),{ready:function(){console.log("App is being served from cache by a service worker.\nFor more details, visit https://goo.gl/AFskqB")},registered:function(){console.log("Service worker has been registered.")},cached:function(){console.log("Content has been cached for offline use.")},updatefound:function(){console.log("New content is downloading.")},updated:function(){console.log("New content is available; please refresh.")},offline:function(){console.log("No internet connection found. App is running in offline mode.")},error:function(e){console.error("Error during service worker registration:",e)}});s("f9e3"),s("2dd8");var At=s("5132"),Et=s.n(At);a["default"].config.productionTip=!1;var Nt={apiKey:"AIzaSyC_0DpX0DNsW0WqtBq88BlQc1MntzEL3ZY",authDomain:"avalonline-a8a5b.firebaseapp.com",databaseURL:"https://avalonline-a8a5b.firebaseio.com",projectId:"avalonline-a8a5b",storageBucket:"avalonline-a8a5b.appspot.com",messagingSenderId:"932679206673"};b.a.initializeApp(Nt);var Gt="http://localhost:80";a["default"].use(n.a),a["default"].use(new Et.a({debug:!0,connection:Gt,vuex:{store:Pt,actionPrefix:"SOCKET_",mutationPrefix:"SOCKET_"}})),a["default"].config.productionTip=!1,new a["default"]({router:Qt,store:Pt,render:function(e){return e(re)}}).$mount("#app")},6445:function(e,t,s){"use strict";var a=s("0adf"),o=s.n(a);o.a},"64a9":function(e,t,s){},"6da8":function(e,t,s){},"8b0a":function(e,t,s){"use strict";var a=s("6da8"),o=s.n(a);o.a},9580:function(e,t,s){"use strict";var a=s("dfd2"),o=s.n(a);o.a},a66f:function(e,t,s){"use strict";var a=s("4d39"),o=s.n(a);o.a},a8c3:function(e,t,s){"use strict";var a=s("4bed"),o=s.n(a);o.a},d061:function(e,t,s){},d0e0:function(e,t,s){"use strict";var a=s("f11b"),o=s.n(a);o.a},d12e:function(e,t,s){},d317:function(e,t,s){"use strict";var a=s("524f"),o=s.n(a);o.a},dfd2:function(e,t,s){},f11b:function(e,t,s){},fc90:function(e,t,s){"use strict";var a=s("d061"),o=s.n(a);o.a},ff7b:function(e,t,s){}});
//# sourceMappingURL=app.3de2cc0f.js.map